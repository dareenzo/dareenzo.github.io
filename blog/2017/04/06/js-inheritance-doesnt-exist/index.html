<!DOCTYPE html><html class="no-js"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#"><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="x-dns-prefetch-control" content="on"/><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="anonymous"><link rel="prerender" href="/blog/2018/05/04/mysql-subtleties/" /><link rel="prerender" href="/blog/2017/01/08/writting-reliable-and-robust-code-with-design-by-contract/" /><title>Re-learning the JavaScript inheritance that doesn't exist &middot; Paulo Phagula</title><meta name="description" content="This post is not about getting started with JavaScript OO, it's rather about clearing the confusion in our minds about JavaScript OO concepts. Specifically i..."><link rel="canonical" href="https://dareenzo.github.io/blog/2017/04/06/js-inheritance-doesnt-exist/"><link rel="prev" href="/blog/2017/01/08/writting-reliable-and-robust-code-with-design-by-contract/" title="Writing reliable and robust code with Design by Contract" /><link rel="next" href="/blog/2018/05/04/mysql-subtleties/" title="A few MySQL subtleties and how to go about them" /><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /><meta name="format-detection" content="telephone=no" /><meta http-equiv="x-rim-auto-match" content="none" /><meta http-equiv="cleartype" content="on"><meta name="mobile-web-app-capable" content="yes"><link rel="icon" sizes="192x192" href="/assets/images/favicons/android-chrome-192x192.png"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#333"><link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#333"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Paulo Phagula"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png"><meta name="generator" content="jekyll"><meta name="revisit-after" content="1 DAYS"><meta name="author" content="Paulo Phagula" /><link rel="publisher" href="https://plus.google.com/+PauloPhagula" /><link rel="author" href="/about"><meta name="contact" content="pphagula@gmail.com" /><meta name="geography" content="Mozambique"><meta name="source" content="https://github.com/dareenzo/dareenzo.github.io"> <!-- twitter meta --><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@dareenzo" /><meta name="twitter:creator" content="@dareenzo"><meta name="twitter:url" content="https://dareenzo.github.io/blog/2017/04/06/js-inheritance-doesnt-exist/" /> <!-- opengraph --><meta property="og:type" content="website" /><meta property="og:url" content="https://dareenzo.github.io/blog/2017/04/06/js-inheritance-doesnt-exist/" /><meta property="og:site_name" content="Paulo Phagula" /> <!-- SEO Property Combo --><meta property="og:title" name="twitter:title" itemprop="title name" content="Re-learning the JavaScript inheritance that doesn't exist &middot; Paulo Phagula" /><meta property="og:description" name="twitter:description" itemprop="description" content="This post is not about getting started with JavaScript OO, it's rather about clearing the confusion in our minds about JavaScript OO concepts. Specifically i..." /><meta property="og:image" name="twitter:image" itemprop="image primaryImageOfPage" content="https://dareenzo.github.io/content/2017/04/javascript-inheritance-last-will-and-testament.jpeg" /><link rel="alternate" type="application/atom+xml" title="Paulo Phagula &raquo; Atom Feed" href="https://dareenzo.github.io/feed.atom.xml"><link rel="alternate" type="application/rss+xml" title="Paulo Phagula &raquo; RSS Feed" href="https://dareenzo.github.io/feed.rss.xml"><meta name="google-site-verification" content="hXGNVG1mBEAHY0UFP_2RAzcWhzVKmQmWLbAtqPAafog" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/themes/prism.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/plugins/toolbar/prism-toolbar.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css"> /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.hidden{display:none !important}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}.visuallyhidden.focusable:active,.visuallyhidden.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto;white-space:inherit}.invisible{visibility:hidden}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.no-list{list-style:none;margin:0;padding:0}.no-list>li{margin:0;padding:0}.text-right{text-align:right}.text-left{text-align:left}.text-center{text-align:center}.text-justify{text-align:justify}.text-uppercase{text-transform:uppercase}.text-lowercase{text-transform:lowercase}.left,.float-left{float:left}.right,.float-right{float:right}.pull-right{float:right !important}.pull-left{float:left !important}*{box-sizing:border-box}html{color:#222;font-size:1em;line-height:1.4}body{color:#44484a;text-rendering:optimizeLegibility;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Android Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1.5;height:100%;margin:0 auto;overflow-y:scroll;visibility:visible;word-break:break-word;word-wrap:break-word}body,input,button{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{margin:20px 0 14px 0;color:#262626;font-weight:600;line-height:1.25}h1{font-size:2em}h2{font-size:1.5em}h3{font-size:1.17em}h4{font-size:1em}h5{font-size:0.83em}h6{font-size:0.75em}p{line-height:1.5;margin:15px 0}hr{display:block;height:1px;border:0;border-top:1px solid #ddd;margin:1em 0;padding:0;overflow:hidden;background:transparent}audio,canvas,iframe,img,svg,video{vertical-align:middle}del{text-decoration:line-through;color:#999}ins{color:#000}img{max-width:100%}img.emoji{width:20px !important;margin:0px !important;float:none !important;border:none !important}.img--circle{border-radius:50%}::selection{background:#b3d4fc;text-shadow:none}::-moz-selection{background:#b3d4fc;text-shadow:none}a:link,a:visited{text-decoration:none;color:#4492ff}a:hover{text-decoration:underline}b,strong{font-weight:bold}em{font-style:italic}pre{padding:16px;overflow:auto;line-height:1.45;background-color:#f6f8fa;border-radius:3px;word-wrap:normal;margin-top:0;margin-bottom:16px}code{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Roboto Mono","Courier New",Courier,monospace !important;font-size:0.9em;padding:0.2em 0.4em;margin:0;background-color:rgba(27,31,35,0.05);border-radius:3px}pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}blockquote{font-style:italic;border-left:2px solid #4492ff;padding-left:15px;margin-left:0}ul,ol{padding:0;margin:0 0 10px 10px;padding-left:5px;list-style-position:outside;display:block}ul li ul,ul li ol{padding:0;margin:0 0 0px 10px;padding-left:5px;list-style-position:outside;display:block;font-size:inherit}ul{list-style-type:disc}ol{list-style-type:decimal}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}table{margin-top:0;margin-bottom:16px;display:block;width:100%;overflow:auto}table tr{background-color:#fff;border-top:1px solid #c6cbd1}table th{font-weight:600}table th,table td{padding:6px 13px;border:1px solid #dfe2e5}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}input[type="text"],input[type="password"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="month"],input[type="week"],input[type="email"],input[type="number"],input[type="search"],input[type="tel"],input[type="time"],input[type="url"],textarea{outline:0px none;-webkit-appearance:none;-moz-appearance:none;color:rgba(0,0,0,0.75);display:block;margin:0;padding:5px 3px;height:25px;width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;transition:border-color 0.15s ease-in-out 0s;-webkit-transition:border-color 0.15s ease-in-out 0s;-moz-transition:border-color 0.15s ease-in-out 0s;-ms-transition:border-color 0.15s ease-in-out 0s;-o-transition:border-color 0.15s ease-in-out 0s;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:1px solid #e3e3e3}textarea{height:71px}input[type="text"]:focus,input[type="password"]:focus,input[type="date"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="month"]:focus,input[type="week"]:focus,input[type="email"]:focus,input[type="number"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="time"]:focus,input[type="url"]:focus,textarea:focus{border-color:#4492ff;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;outline:0px none}button{cursor:pointer;border-radius:0}details summary{cursor:pointer}details:not([open])>*:not(summary){display:none}.button{-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.05);box-shadow:0 1px 0 rgba(0,0,0,0.05);-webkit-transition:background-color .218s,border-color .218s,box-shadow .218s;transition:background-color .218s,border-color .218s,box-shadow .218s;-webkit-user-select:none;user-select:none;background-color:#fff;border:1px solid #d9d9d9;cursor:pointer;height:28px;line-height:28px;padding:0 10px 0 10px;outline:none;width:auto;background-image:none;-webkit-appearance:none;margin:0}label{margin-bottom:5px;margin-top:10px;display:block}.button:hover{-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.1);box-shadow:0 1px 0 rgba(0,0,0,0.1);border-color:#bfbfbf}.button:active{-webkit-box-shadow:inset 0 1px 0 #ddd;box-shadow:inset 0 1px 0 #ddd;background-color:#e5e5e5;border-color:#bfbfbf}.form-button{padding-top:20px;margin-bottom:40px}::-webkit-input-placeholder{vertical-align:middle;padding:3px 2px}:-moz-placeholder{vertical-align:middle;margin:3px 2px}::-moz-placeholder{vertical-align:middle;margin:3px 2px}:-ms-input-placeholder{vertical-align:middle;margin:3px 2px}main{width:740px;margin:0 auto}.header{width:740px;margin:15px auto;text-align:center}.header .header__search-box{width:300px;margin:0 auto}.header a{text-decoration:underline;font-weight:bold}.logo{width:80px}.header__navigation{margin:20px}.navigation{font-size:.9em}nav ul{list-style-type:none;padding:0;margin:0 0;list-style-position:outside;display:block}nav ul li{display:inline}nav ul li:after{content:"";margin:0 5px;color:#aaaaaa}nav ul li:last-child:after{content:""}.posts-list{list-style:none outside;margin:0}.posts-list-item{position:relative}.posts-list time{position:absolute;left:0;top:0}.posts-list .post-link{display:block;padding-left:4.5em}#content{max-width:740px;width:740px}#content article:first-child{margin-top:0px;min-height:300px !important}#content article{margin:15px;padding:0 15px 15px 15px}#content article header img.author{width:50px;float:left;margin-right:10px;margin-bottom:15px}#content article header strong{display:block;color:#262626}.article__title{font-size:2.5em;letter-spacing:-1.79px;line-height:1.1em}.article__meta{font-size:.75em;color:#aaadad}.excerpt img{float:left;margin-right:15px;margin-bottom:15px;max-width:120px;max-height:120px}.excerpt a.title{color:#4492ff;line-height:1.4;font-size:16px;font-style:normal;font-variant:normal;font-weight:300;max-height:157px;font-size-adjust:none;font-stretch:normal}.excerpt .tags{list-style-type:none;display:inline}.excerpt .tags li{display:inline;background-color:rgba(0,0,0,0.05);background-color:white}.excerpt .tags li:after{content:', ';color:#999}.excerpt .tags li:last-child:after{content:""}.article__excerpt{font-style:italic;padding:10px}footer{text-align:center;padding-top:2rem;padding-bottom:2rem;background:#f3f7f9;background:#fafcfc;color:#596a73}.copyright{font-size:75%}.disclaimer{font-size:75%}.intro{text-align:center}.intro__image{margin:auto;margin-top:120px;width:200px;height:200px}.intro__title{margin-bottom:50px;text-align:center}.intro__lead{color:#aaa;font-size:1.5em;margin-top:30px;font-weight:300;font-style:italic;margin-bottom:120px;margin-top:120px}.social{list-style-type:none;text-align:center;list-style-position:outside;display:block;padding:0;margin:0}.social li{display:inline;padding:0 5px}.social li a{display:inline-block;width:35px;height:35px;color:#404040}.social svg{fill:#848d95;width:35px !important;height:35px !important}aside{display:none}.pagination{width:100%;margin-bottom:20px}.pagination div{width:50%;height:10px}.pagination__previous-url{text-align:left;float:left}.pagination__next-url{text-align:right;float:right}.pagination__previous-arrow,.pagination__next-arrow{width:10%;display:inline-block;vertical-align:middle;text-align:center}.pagination__previous-title,.pagination__next-title{width:85%;display:inline-block;vertical-align:middle;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project div.description p{margin:10px 0}.project dl{margin:0;font-size:0.9em}.project dl dt{width:130px;float:left;height:22px}.project dl dd{height:22px}.project h2.approved{background:url(approved.png) 6px 8px no-repeat;margin-left:-30px;padding-left:30px}.project p.approved{color:#888;font-size:14px}.certification-logo{width:300px}.image-wrapper{text-align:center}.image-wrapper .image-caption{color:#828282;margin-top:10px}.alert-success{color:green}.alert-danger{color:red}.add{display:block !important;max-width:420px;width:420px;margin:15px 15px 0 15px;padding:15px;height:100px;max-height:100px;background-color:white}@media screen and (max-width: 740px){.header,main{display:flexbox;display:-ms-flexbox;display:-webkit-box;display:-ms-flexbox;-moz-box-orient:vertical;-webkit-box-orient:vertical;-moz-box-align:center;-webkit-box-align:center;-ms-flex-flow:column;flex-flow:column;width:100%}#side,#content{flex:1;-webkit-box-flex:1 auto;-moz-box-flex:1 auto;-ms-flex:1 auto;width:100%;max-width:100%;position:relative}#content{margin-left:0px}aside{display:none}}@media screen and (max-width: 480px){#content img{display:block;width:100%;max-width:100%;max-height:100%}#content article{margin:10px;padding:0}.excerpt a.title{font-size:1.4em}.excerpt .tags{margin-left:0;padding-left:0}.pagination div{width:100%;height:initial}}span.icon>.fa{cursor:default}.admonitionblock td.icon{text-align:center;width:80px}.admonitionblock td.icon [class^="fa icon-"]{font-size:1.5em;text-shadow:1px 1px 2px rgba(0,0,0,0.5);cursor:default}.admonitionblock td.icon .icon-note:before{content:"\f05a";content:"📎";color:#19407c}.admonitionblock td.icon .icon-tip:before{content:"\f0eb";content:"💡";text-shadow:1px 1px 2px rgba(155,155,0,0.8);color:#111}.admonitionblock td.icon .icon-warning:before{content:"\f071";content:"⚠";color:#bf6900}.admonitionblock td.icon .icon-caution:before{content:"\f06d";content:"🔥";color:#bf3400}.admonitionblock td.icon .icon-important:before{content:"\f06a";content:"❗";color:#bf0000}.browserupgrade{margin:0.2em 0;background:#ccc;color:#000;padding:0.2em 0}@media print{*,*:before,*:after{background:transparent !important;color:#000 !important;-webkit-box-shadow:none !important;box-shadow:none !important;text-shadow:none !important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="#"]:after,a[href^="javascript:"]:after{content:""}pre{white-space:pre-wrap !important}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}p,h2,h3{orphans:3;widows:3}h2,h3{page-break-after:avoid}}</style><script> var htmlElement = document.getElementsByTagName('html')[0]; htmlElement.style.display = 'none'; htmlElement.className = htmlElement.className.replace('no-js', 'js'); htmlElement.style.overflow = 'hidden'; // Redirect to https var host = "https://dareenzo.github.io"; if (host == window.location.host && window.location.protocol != "https:") { window.location.protocol = "https"; } </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Yrsa|Open+Sans"> <!-- Google Tag Manager --> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-NCKZVZ');</script> <!-- End Google Tag Manager --><body lang="en"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCKZVZ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --> <!--[if lte IE 9]><p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security. <![endif]--><header class="header"><article class="about"> <a href="/"><img class="logo" src="/assets/images/avatar.svg" alt="Paulo Phagula" /></a><h2>Paulo Phagula</h2><p>Musings and Scribbles on Software Development <!--<p class="navigation"> <a href="/about#work" title="Check out some of my work and projects">#work</a> <a href="https://github.com/dareenzo" title="Have a look at my code on github" target="_blank">#code</a> <a href="https://kodikos-io.github.io" title="Check out my Startup Kodikos" target="_blank">#startup</a> --></article><nav class="header__navigation"><ul class="navigation"><li><a class="page-link" href="/blog" title="Read my articles">Articles</a><li><a class="page-link" href="/talks" title="">Talks</a><li><a class="page-link" href="/about" title="Learn more about me and this site">About</a> <!--<li><a class="page-link" href="/services" title="Check out what I can do for you">Services</a><li><a class="page-link" href="/work" title="View some my most notable work and projects">Portfolio</a><li><a class="page-link" href="/contact" title="Get my contacts details so you can reach out to me">Contact</a> --></ul></nav><!-- <form name="search" method="get" action="/search"> <input class="header__search-box" type="search" placeholder="Search ..." name="q" /> </form> --></header><main><section id="content"><article><h1 class="article__title">Re-learning the JavaScript inheritance that doesn't exist</h1><header><div class="article__meta"> <i class="fa fa-calendar-o" aria-hidden="true"></i> <time class="article__post-date" datetime="2017-04-06T08:00:00+02:00" itemprop="datePublished" content="2017-04-06T08:00:00+02:00">06 Apr 2017</time> | <i class="fa fa-folder-o" aria-hidden="true"></i> Coding <br/> <span class="article__tags"> <i class="fa fa-tags" aria-hidden="true"></i> JavaScript&nbsp; Object-Orientation&nbsp; </span></div><p class="article__excerpt"> This post is not about getting started with JavaScript OO, it's rather about clearing the confusion in our minds about JavaScript OO concepts. Specifically it's an attempt to mark in my head a simple truth: there's no inheritance in JavaScript...there's no such thing as prototypal inheritance.</header><p>Yes, they lied, big time. All you have is delegation and copying properties. They say it’s inheritance but that is due to JS trying to accommodate the classical inheritance object-orientation model to cater for a smooth transition of “Java” people into JavaScript. Personally, I think this creates more confusion than it helps. If people were taught straight from the beginning, the real gospel instead of trying to “travestize” it for them there wouldn’t be much confusion, but well, it is what it is.<p>To understand why and how things came to be, we need to look a bit and understand JavaScript’s history. In the beginning, when Brendan Eich was creating the language, his intention was to bring <a href="https://en.wikipedia.org/wiki/Scheme_%28programming_language%29">Scheme</a> into the browser, and that’s where JS gets the whole prototype inheritance thing (which doesn’t exist). Overtime though, as Java was the mainstream programming language back then, he was asked to “massage” the language as to make it more “familiar” for Java developers, as they were JavaScript’s potential users … and err… this is where things went wrong. The massaging brought along <code>new</code> and other constructs that don’t exist in Scheme naturally.<p>One of the main concepts in prototypal inheritance (that doesn’t exist) is that of a <strong>prototype</strong>, so, let’s start by getting into what that is before touching other parts.<h2 id="what-is-a-prototype">What is a prototype</h2><p>A prototype is a friend object (not parent) from which other objects can borrow properties (values and functions/methods) by delegating the lookup of properties they don’t have to it;<p>A good analogy is: you need a pen but do not have a pen, but you have a friend. So, you can ask it to your friend. But, then your friend may as-well not have a pen, so, he’ll ask it to his friend and so on and so forth. Then, whenever a friend in your friends-chain has a pen, then it will be passed (not down) through the chain until you, so you can use it as yours.<p>The way this applies to JS, is that all objects have a property called <code>__proto__</code> (not <code>prototype</code>, but which we – creatively – call “prototype”) that references a friend object to which they delegate property lookup whenever they do not have the intended property. By default, this friend object is <code>Object.prototype</code>.<p>An example illustrates it better:<p>We start by creating a simple dumb dog object with a sound property with the value ‘woof!’<pre><code class="language-js">var dog = {
    sound: 'woof!'
}
</code></pre><p>We created the dog object using objects literals: <code>{}</code>. And just like all other objects, when they are initially created (before <code>new</code> or <code>Object.create()</code> does anything to them) the dog object has a <code>__proto__</code> property that references the <code>Object.prototype</code> object. We can verify this statement by doing a comparison or printing the contents of both in the console.<pre><code class="language-js">dog.__proto__ === Object.prototype // =&gt; true
console.log(dog.__proto__)
console.log(Object.prototype)
</code></pre><p>Now, considering the dog object created above, not very useful in its presents state, let’s say we’d like it to do something, say make a sound. We could add a method on the dog object that allows it to make a sound, but, lets consider that asides our dog object, our program will need other objects to make sounds. Well, we could add a function to each of those objects. But if we think of it, we quickly realize it’s impractical to have N copies of the same function. So, instead, what we can do is create a “friend” object with the function and then tell all of these objects to become friends with it, such that we reuse that single method all over.<p>Applying that in JS would be something like:<pre><code class="language-js">// Create the "future" friend object
var animal = {
    makeSound: function() {
        console.log(this.sound)
    }
}

// set the friend object. Makes `dog.__proto__` reference the animal object
Object.setPrototypeOf(dog, animal);
</code></pre><p>Now, we can safely call <code>dog.makeSound()</code> and have the output of <code>'woof!'</code> as expected.<p>Note:<ul><li>animal is not a “parent” of dog. It’s a friend.<li><p>dog didn’t inherit <code>makeSound</code> from animal. It delegated what it didn’t have (<code>makeSound()</code>) to animal. Should it have inherited, then <code>makeSound()</code> would be its own property (we can verify if an object owns as property with <code>.hasOwnProperty(propertyName)</code>), and wouldn’t go away when we remove it from animal. In the same way that if we add properties to animal, dog will be able to access them as if they were its own.<pre><code class="language-js">  dog.hasOwnProperty('makeSound') // =&gt; false
</code></pre></ul><h2 id="prototype-vs-prototype-vs-__proto__">prototype vs <code>.prototype</code> vs <code>.__proto__</code></h2><p>prototype is the term used to speak of the friend object referenced by <code>.__proto__</code> in any object.<p><code>.prototype</code> is a property that exists in functions, to hold the reference to the future “friend” of the objects created by calling the function using the <code>new</code> operator. Quite a mouthful, so let’s dig into it.<p>The first bit that should be clarified is that almost everything in JavaScript is an object, and that includes functions. Which means that functions can have properties (values and methods).<p>The common function properties are: <code>name</code>, <code>length</code>, <code>arguments</code>, <code>prototype</code>, <code>__proto__</code>, <code>constructor</code>, <code>call()</code>, <code>bind()</code>, <code>apply()</code><p>We already seen what <code>__proto__</code> is and the important bit about it for functions is that it references Function.prototype, the snippet bellow proves the point.<pre><code class="language-js">function sum(a,b) { return a + b; }

sum.__proto__ === Function.prototype // =&gt; true
</code></pre><p>We should turn our focus to the prototype property. What with it?<p>So, as said before, during the development of JS, Brendan Eich was asked to make it look like Java and so he introduced what Douglas Crockford calls pseudo-classical inheritance (again doesn’t exist for real).<p>The gist of pseudo-classical inheritance is that we create a function which will be the constructor of new objects of its type. And then we add properties that will be shared by the objects of that type in the function’s <code>.prototype</code> object. Then we instantiate objects of that type by calling the function preceded by the new operator. Something like:<pre><code class="language-js">function Person(name, birthdate) {
    this.name = name;
    this.birthdate = birthdate;
}

Person.prototype.getAge = function() {
    // some code in here that computes the age based on birthDate
}

var zezinho = new Person('Zezinho dos Anjos', Date('1989-03-23'))
</code></pre><p>At this stage what we already prove what was said earlier, that the prototype property of functions serves to hold the value of the future <code>__proto__</code> of objects created by invoking the function with <code>new</code>.<pre><code class="language-js">zezinho.__proto__ === Person.prototype // =&gt; true
</code></pre><p>And it works just like before… for instance, <code>getAge()</code> is not a property of zezinho, it was lent to him by the friend.<pre><code class="language-js">zezinho.hasOwnProperty('getAge') // =&gt; false
</code></pre><p>This whole “prototype” as a function property construct was made to allow the “Java” people to easily embark into JS and the way it works is with <code>new</code> doing some “stuff” on the background.<p>If were to implement <code>new</code> ourselves it would look like:<pre><code class="language-js">/**
    @param {function} constructorFunction - the constructor function
    @param {...*} constructorArguments - the constructor arguments
    @returns {object} the newly created object
 */
function makeNew() {
    // THIS IS NOT IMPORTANT BUT REQUIRED
    // ---
    var args = Array.prototype.slice.call(arguments);
    var constructorFunction = args.splice(0, 1)[0];

    // HERE IS WHAT MATTERS
    // ---

    // 1. create new obj with literals. Yes the only way there's ever to create objects. new and Object.create just use it internally
    var obj = {};
    // 2. Set "own" properties of obj, i.e. those that return true when queried via hasOwnProperty
    constructorFunction.apply(obj, args);
    // 3. set the "friend"/prototype of obj
    Object.setPrototypeOf(obj, constructorFunction.prototype);
    // 4. return the new object
    return obj;
}

var luizinho = makeNew(Person, 'Luizinho', new Date('1989-01-01'));
</code></pre><p>Finally to prove this works as the “normal”new<pre><code class="language-js">zezinho.prototype === luizinho.prototype // =&gt; true
luizinho.hasOwnProperty('getAge') // =&gt; false
</code></pre><h3 id="whats-is-this-objectcreate-youve-mentioned">Whats is this Object.create you’ve mentioned?</h3><p><code>Object.create(prototype)</code> is the child of Douglas Crockford, born on the hate he has for pseudo-classical and inherently <code>new()</code>.<p>Object.create is a form of doing <code>new</code> the prototypal way, without the awkwardness and indirection of pseudo-classical.<p>Implementing Object.create we would have, something like:<pre><code class="language-js">/**
    @param {function} prototype - the object to set as prototype(__proto__)  of the new object
    @param {object} ownProperties - object with properties that are going to be copied to the new object
    @returns {object} the newly created object
*/
function objectCreate(prototype, ownProperties) {
     // 1. create new obj with literals. Yes the only way there's ever to create objects. new and Object.create just use it internally
    var obj = {};
    // 2. Set "own" properties of obj, i.e. those that return true when queried via hasOwnProperty
    for (var propName in ownProperties) {
        obj[propName] = ownProperties[propName];
    }
    // 3. set the "friend"/prototype of obj
    Object.setPrototypeOf(obj, prototype);
     // 4. return the new object
    return obj;
}
</code></pre><p>Our “zezinho” could be created like<pre><code class="language-js">var person = {
    getAge: function() { /* ... compute and return age */ }
}
var zezinho = objectCreate(person, {name: 'Zezinho dos Anjos', birthdate: Date('1989-03-23')})

// we could also have done...
var zezinho = objectCreate(Person.prototype, {name: 'Zezinho dos Anjos', birthdate: Date('1989-03-23')})
</code></pre><p>Anyhow our proof:<pre><code class="language-js">zezinho.hasOwnProperty('getAge') // false
zezinho.hasOwnProperty('name') // true

person.isHuman = function() { return true; } // adding something to prototype makes it "findable" to those who friended the object
zezinho.isHuman() // =&gt;
</code></pre><h2 id="conclusions">Conclusions</h2><ul><li>There’s no inheritance in JavaScript. Only property delegation and copying.<ul><li>If a property is removed from the “friended object” object the other object no longer can use it<li>As we saw in the <code>objectCreate</code>, the <code>ownProperties</code> were copied from another object. We can expand on this and compose objects from others further improving reuse.</ul><li>There’s only one way of creating objects and that’s with object literals. <code>new</code> and <code>Object.create</code> just create the literal internally, add properties to it, link to a prototype and return it. No magic! We can implement this ourselves<li><code>__proto__</code> is a property of all objects (even functions)<li>prototype exists as two concepts:<ol><li>the friend object to which objects delegate property lookup (<code>__proto__</code>) and<li>the property of all functions used to keep future friend (read <code>__proto__</code>) object of new objects created by calling the function using the <code>new()</code> operator</ol><li>Prototypes exist as a form reuse. And the way they’ve been made / thought-of, they have a beautiful side-effect that the classical inheritance object-oriented form of reuse doesn’t have, which is to save memory. That is, in the classical form, each instance of an object has all the details about it (the whole pack of properties it inherited), while with prototypes only references are kept to where to find the properties, so rather than say 1000 copies only 1 exists. This is exceptionally well thought, and is specially useful given the resource constraint limits imposed by the web browsers environment.<li>The decision to add <code>new</code> and pseudo-classical pattern just created more confusion and disinformation to the community and language users. It should serve as a lesson to future endeavors</ul><h2 id="closing">Closing</h2><p>Last but not least, I was only able to figure this out after watching the <a href="https://www.youtube.com/playlist?list=PL0zVEGEvSaeHBZFy6Q8731rcwk0Gtuxub">Object creation YouTube video series</a> on <a href="http://www.youtube.com/channel/UCO1cgjhGzsSYb1rsB4bFe4Q">funfunfunction</a> by <a href="https://twitter.com/mpjme">Matthias Johansson</a>, so I strongly recommend watching those to all JS people out there.<p>A zillion “Good Monday mornings!” for you Matthias.<hr/><div class="sharing"><p> Share this on: <a title="Share article on Email" href="mailto:?subject=Re-learning the JavaScript inheritance that doesn't exist&body=https%3A%2F%2Fdareenzo.github.io%2Fblog%2F2017%2F04%2F06%2Fjs-inheritance-doesnt-exist%2F">Mail</a> - <a title="Share article on Twitter" target="_blank" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fdareenzo.github.io%2Fblog%2F2017%2F04%2F06%2Fjs-inheritance-doesnt-exist%2F&text=Re-learning%20the%20JavaScript%20inheritance%20that%20doesn't%20exist&via=dareenzo">Twitter</a> - <a title="Share article on Facebook" target="_blank" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fdareenzo.github.io%2Fblog%2F2017%2F04%2F06%2Fjs-inheritance-doesnt-exist%2F">Facebook</a></div><div class="pagination"><div class="pagination__previous-url"> <a href="/blog/2017/01/08/writting-reliable-and-robust-code-with-design-by-contract/" title="Writing reliable and robust code with Design by Contract" rel="prev"> <span class="pagination__previous-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></span> <span class="pagination__previous-title">Writing reliable and robust code with Design by Contract</span> </a></div><div class="pagination__next-url"> <a href="/blog/2018/05/04/mysql-subtleties/" title="A few MySQL subtleties and how to go about them" rel="next"> <span class="pagination__next-title">A few MySQL subtleties and how to go about them</span> <span class="pagination__next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></span> </a></div><div class="clearfix"></div></div><div class="related-posts"></div><hr /><div class="comments"><p>Please, use <a href="https://help.disqus.com/customer/portal/articles/665057-syntax-highlighting">syntax highlighting</a> in your comments, to make them more readable.<div id="disqus_thread"></div><noscript>Please, enable JavaScript to see the <a href="http://disqus.com/?ref_noscript">comments</a></noscript></div></article><script> var disqus_config = function () { this.page.url = 'https://dareenzo.github.io/blog/2017/04/06/js-inheritance-doesnt-exist/'; this.page.identifier = 'https://dareenzo.github.io/blog/2017/04/06/js-inheritance-doesnt-exist/'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://dareenzo.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script></section><div class="clearfix"></div></main><footer class="footer"><ul class="social"><li><a href="mailto:pphagula@gmail.com" target="_blank" title="Drop me an email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a><li><a href="https://github.com/dareenzo" target="_blank" title="Fork my code on Github"><i class="fa fa-github" aria-hidden="true"></i></a><li><a href="https://stackoverflow.com/users/6270740/paulo-phagula" target="_blank" title="Help me out with some questions on StackOverflow"><i class="fa fa-stack-overflow" aria-hidden="true"></i></a><li><a href="https://www.linkedin.com/in/paulo-phagula" target="_blank" title="Connect with me on Linkedin if you, too, need to put up with this crap against your will"><i class="fa fa-linkedin" aria-hidden="true"></i></a><li><a href="https://twitter.com/dareenzo" target="_blank" title="Follow me on Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a><li><a href="/feed.rss.xml" target="_blank" title="Stay up-to-date with all the blog posts via RSS"><i class="fa fa-feed" aria-hidden="true"></i></a></ul><p class="copyright"> Copyright &copy; 2014 - 2018 Paulo Phagula.<br/> Some rights reserved</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/prism.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/plugins/toolbar/prism-toolbar.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.11.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.12.2/components/prism-python.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.12.2/components/prism-ruby.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.12.2/components/prism-sql.js"></script> <script type="text/javascript"> htmlElement.style.display = 'block'; htmlElement.style.overflow = ''; </script>
